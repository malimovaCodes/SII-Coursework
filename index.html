<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Автоматизация бизнес-плана</title>
    <link rel="stylesheet" href="src/styles/css/style.css"> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>

    <header>
        <a href="#" id="logo-link" aria-label="На главную">
            <img src="src/assets/images/logo.svg" alt="Логотип конструктора бизнес-планов" id="logo" style="height: 65px">
        </a>
        <nav>
            <a href="#" id="logout-btn" style="display: none;">Выйти</a>
        </nav>
    </header>

    <main id="app-container">
        <div id="auth-screen" class="screen active">
            <div class="form-container">
                <h2>Авторизация</h2>
                <form id="login-form">
                    <input type="email" placeholder="Email" required>
                    <input type="password" placeholder="Пароль" required>
                    <button type="submit">Войти</button>
                    <p>Нет аккаунта? <a href="#" id="show-register">Зарегистрироваться</a></p>
                </form>
            </div>
        </div>
        
        <div id="register-screen" class="screen">
             <div class="form-container">
                <h2>Регистрация</h2>
                <form id="register-form">
                    <input type="text" placeholder="Ваше имя" required>
                    <input type="email" placeholder="Email" required>
                    <input type="password" placeholder="Пароль" required>
                    <button type="submit">Создать аккаунт</button>
                    <p>Уже есть аккаунт? <a href="#" id="show-login">Войти</a></p>
                </form>
            </div>
        </div>

        <div id="main-screen" class="screen">
            <h2>Мои бизнес-планы</h2>
            <button id="create-plan-btn">Создать новый бизнес-план</button>
            <div id="plan-list">
            </div>
        </div>

        <div id="wizard-screen" class="screen">
            <div class="wizard-header">
                <div class="wizard-progress">
                    <div class="progress-step active" data-step="1"><div class="step-circle">1</div><div class="step-label"><span>Информация о проекте</span><span>Общие сведения</span></div></div>
                    <div class="progress-line"></div>
                    <div class="progress-step" data-step="2"><div class="step-circle">2</div><div class="step-label"><span>Характеристики</span><span>Функциональные требования</span></div></div>
                    <div class="progress-line"></div>
                    <div class="progress-step" data-step="3"><div class="step-circle">3</div><div class="step-label"><span>Стек технологий</span><span>Технологии</span></div></div>
                    <div class="progress-line"></div>
                    <div class="progress-step" data-step="4"><div class="step-circle">4</div><div class="step-label"><span>Команда</span><span>Структура</span></div></div>
                    <div class="progress-line"></div>
                    <div class="progress-step" data-step="5"><div class="step-circle">5</div><div class="step-label"><span>Финансы</span><span>Затраты</span></div></div>
                    <div class="progress-line"></div>
                    <div class="progress-step" data-step="6"><div class="step-circle">6</div><div class="step-label"><span>Обзор</span><span>Экспорт</span></div></div>
                </div>
            </div>
            <div class="wizard-content">
                <div id="step-1" class="wizard-step active">
                    <h3 class="step-title">Общие сведения</h3>
                    <input type="text" id="project-name" placeholder="Название проекта">
                    <select id="project-type">
                        <option value="mobile">Мобильное приложение</option>
                        <option value="web">Веб-сервис</option>
                        <option value="desktop">Desktop-приложение</option>
                        <option value="microservice">Микросервис</option>
                        <option value="corp">Корпоративная ИС</option>
                    </select>
                    <textarea id="project-description" placeholder="Краткое описание проекта"></textarea>
                </div>

                <div id="step-2" class="wizard-step">
                    <h3 class="step-title">Функциональные требования</h3>
                    <div id="features-list">
                    </div>
                    <div class="estimation">
                        <h4>Предварительная оценка:</h4>
                        <p>Трудозатраты: <span id="total-hours">0</span> часов</p>
                        <p>Стоимость: <span id="total-cost">0</span> ₽</p>
                        <p>Срок: <span id="total-days">0</span> дней</p>
                    </div>
                </div>

                <div id="step-3" class="wizard-step">
                    <h3 class="step-title">Технологии</h3>
                    <div class="tech-stack-grid">
                        <div class="grid gap-2">
                            <label for="tech-frontend">Фронтенд</label>
                            <select id="tech-frontend">
                            </select>
                        </div>
                        <div class="grid gap-2">
                            <label for="tech-backend">Бэкенд</label>
                            <select id="tech-backend">
                            </select>
                        </div>
                        <div class="grid gap-2">
                            <label for="tech-db">База данных</label>
                            <select id="tech-db">
                            </select>
                        </div>
                        <div class="grid gap-2">
                            <label for="tech-infra">Инфраструктура</label>
                            <select id="tech-infra">
                            </select>
                        </div>
                    </div>
                </div>

                <div id="step-4" class="wizard-step">
                    <h3 class="step-title">Структура команды</h3>
                    <div id="team-recommendation-list" class="space-y-4">
                    </div>
                </div>

                <div id="step-5" class="wizard-step">
                    <h3 class="step-title">Финансовый план</h3>
                    <div class="space-y-6">
                        <div class="financial-item">
                            <label>Затраты на разработку (автоматически)</label>
                            <p id="financial-dev-cost">0 ₽</p>
                        </div>
                        <div class="financial-item">
                            <label for="financial-marketing">Затраты на маркетинг, ₽</label>
                            <input type="number" id="financial-marketing" value="0" min="0">
                        </div>
                        <div class="financial-item">
                            <label for="financial-support">Затраты на поддержку (в месяц), ₽</label>
                            <input type="number" id="financial-support" value="0" min="0">
                        </div>
                        <div class="financial-item">
                            <label for="financial-income">Ожидаемый доход (первый год), ₽</label>
                            <input type="number" id="financial-income" value="0" min="0">
                        </div>
                        <div class="estimation">
                            <h4>Итоговый бюджет: <span id="final-budget">0</span> ₽</h4>
                        </div>
                    </div>
                </div>

                <div id="step-6" class="wizard-step">
                    <h3 class="step-title">Обзор и экспорт</h3>
                    <div id="final-plan-summary"></div>
                    <button id="save-plan-btn">Сохранить</button>
                    <button id="export-pdf-btn">Экспорт в PDF</button>
                </div>
            </div>
            <div class="wizard-navigation">
                <button class="prev-btn" data-prev="1">Назад</button>
                <button class="next-btn" data-next="2">Далее</button>
            </div>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.16/jspdf.plugin.autotable.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
